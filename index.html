<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>
  <script>
    async function redirectToGame() {
      // Extract game ID from URL path
      const pathParts = window.location.pathname.split('/');
      const gameId = pathParts[pathParts.length - 1];

      if (!gameId) {
        alert('No game ID found in URL.');
        return;
      }

      try {
        const response = await fetch('https://www.onlinegames.io/media/plugins/genGames/embed.json');
        const games = await response.json();

        const game = games.find(g => g.id === gameId);
        if (game && game.embed) {
          window.location.href = game.embed;
        } else {
          alert('Game not found.');
        }
      } catch (error) {
        console.error('Failed to fetch game list:', error);
        alert('Error loading game data.');
      }
    }

    redirectToGame();
  </script>
</head>
<body>
  <p>Redirecting to your game... ðŸŽ®</p>
</body>
</html>
